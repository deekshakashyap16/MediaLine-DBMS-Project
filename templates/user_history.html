{% extends "base.html" %}
{% block content %}
<div class="max-w-5xl mx-auto mt-10 text-white">

    <h1 class="text-4xl font-bold mb-6 text-medialine">{{ user.Name }}'s Watch History</h1>

    <div class="mb-6">
        <p class="text-gray-400">
            Total Watch Time:
            <span class="text-white font-semibold">
                {{ (total_seconds / 3600) | round(2) }} hours
            </span>
        </p>
    </div>

    {% if history %}
        <div class="space-y-4">
            {% for item in history %}
            <div class="p-4 rounded-lg bg-gray-800 hover:bg-gray-700 flex justify-between">
                <div>
                    <h3 class="text-xl font-semibold text-white">{{ item.Name }}</h3>
                    <p class="text-gray-400 text-sm">Watched on: {{ item.Date_watched.strftime('%Y-%m-%d') }}</p>
                </div>
                <div class="text-right">
                    <p class="text-medialine font-semibold">{{ (item.Duration_watched / 60) | round(1) }} min</p>
                    <p class="text-gray-500 text-xs">Duration</p>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="mt-8 p-6 bg-gray-800 rounded-lg border-l-4 border-medialine">
            <p class="text-lg text-gray-300">No watch history found for this user.</p>
        </div>
    {% endif %}

</div>
{% endblock %}
